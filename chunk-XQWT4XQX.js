import{a as z,b as H,c as q,d as Q,e as J,f as K,m as X,n as Y,q as Z}from"./chunk-LMQWO4W5.js";import{a as re}from"./chunk-QMIFJZ5Y.js";import{a as ne}from"./chunk-C5676IF5.js";import{a as ie}from"./chunk-3YFKICGA.js";import{b as $,c as ee,d as te}from"./chunk-JOV6O4AC.js";import{l as U,r as L}from"./chunk-DQ7YWZBQ.js";import{Ab as p,Ac as W,Bb as h,Ca as N,Cb as I,Fb as b,Gb as E,Hb as M,Ib as A,Jb as D,Oa as F,Qa as n,Qb as d,Ra as g,Rb as m,Tb as G,Va as R,bb as S,eb as v,ia as O,ib as t,jb as r,kb as _,lb as k,mb as V,nb as P,pb as x,ra as u,rb as B,sa as f,ta as y,ub as C,vc as j,zb as w}from"./chunk-NJXLY5TY.js";function oe(o,e){o&1&&(t(0,"div"),p(1),d(2,"translate"),r()),o&2&&(n(),h(m(2,1,"LOGIN.ERROR.EMAIL_REQUIRED")))}function ae(o,e){o&1&&(t(0,"div"),p(1),d(2,"translate"),r()),o&2&&(n(),h(m(2,1,"LOGIN.ERROR.EMAIL_INVALID")))}function le(o,e){if(o&1&&(t(0,"div",26),S(1,oe,3,3,"div",27)(2,ae,3,3,"div",27),r()),o&2){B();let l=w(19);n(),v("ngIf",l.errors==null?null:l.errors.required),n(),v("ngIf",l.errors==null?null:l.errors.email)}}function se(o,e){o&1&&(k(0),y(),t(1,"svg",28),_(2,"path",29)(3,"circle",30),r(),V())}function de(o,e){o&1&&(y(),t(0,"svg",28),_(1,"path",29)(2,"circle",30)(3,"line",31),r())}var T=class o{constructor(e,l,i,a,s,c,me,ce){this.alertService=e;this.loadingService=l;this.authService=i;this.router=a;this.translate=s;this.el=c;this.renderer=me;this.storageService=ce}credentials={email:"",password:""};isLanguageMenuOpen=!1;languageUserSelect="es";ngOnInit(){let e=this.storageService.getItem()||"es";this.languageUserSelect=e,this.translate.setDefaultLang(e)}onClick(e){let l=this.el.nativeElement.contains(e.target),a=e.target.id;a!=="language-menu-svg"&&a!=="language-menu-button"&&a!=="language-menu-path"&&this.closeToggleLanguageMenu()}onSubmit(){this.loadingService.showLoading(),this.authService.login(this.credentials,this.storageService.getItem()||"es").subscribe({next:()=>{this.loadingService.hideLoading(),this.router.navigate(["/home"])},error:e=>{this.loadingService.hideLoading(),this.alertService.showAlert(e.message,!0)}})}showPassword=!1;togglePasswordVisibility(){this.showPassword=!this.showPassword}toggleLanguageMenu(){this.isLanguageMenuOpen=!this.isLanguageMenuOpen}closeToggleLanguageMenu(){this.isLanguageMenuOpen=!1}navigationToPage(e){this.router.navigate([e])}static \u0275fac=function(l){return new(l||o)(g(ie),g(ne),g(L),g(U),g($),g(N),g(R),g(re))};static \u0275cmp=O({type:o,selectors:[["app-login"]],hostBindings:function(l,i){l&1&&x("click",function(s){return i.onClick(s)},!1,F)},standalone:!0,features:[A([L]),D],decls:45,vars:31,consts:[["loginForm","ngForm"],["emailInput","ngModel"],["passwordInput","ngModel"],["hideIcon",""],[1,"absolute","top-0","left-0","bottom-0","leading-5","h-full","w-full","overflow-hidden",2,"background-color","#0D92F4"],[1,"relative","min-h-screen","flex","flex-col-reverse","sm:flex-row","justify-center","bg-transparent","rounded-3xl","shadow-xl","p-6","sm:p-12"],[1,"flex","flex-col","items-center","lg:items-start","justify-center","lg:px-14","sm:max-w-4xl","xl:max-w-md","z-10","sm:order-1","order-2"],[1,"self-center","lg:self-start","flex","flex-col","text-center","lg:text-left","text-gray-300","mt-6","sm:mt-0"],[1,"my-3","font-semibold","text-4xl","lg:text-4xl","sm:text-3xl","text-center",2,"color","#FFFFFF"],[1,"pr-3","text-sm","sm:text-xl","lg:text-xl",2,"color","#FFD628"],[1,"flex","justify-center","items-center","self-center","z-10","sm:order-2","order-1"],[1,"p-8","sm:p-10","bg-white","mx-auto","rounded-2xl","w-full","sm:w-96","max-w-lg","shadow-lg"],[1,"mb-6"],[1,"font-semibold","text-xl","text-center","text-[#0D92F4]"],[1,"space-y-4",3,"ngSubmit"],["type","email","id","email","name","email","required","","email","",1,"w-full","bg-gray-50","p-3","rounded-xl","outline-none","border","border-gray-200","shadow-sm","text-grey-700","text-sm",3,"ngModelChange","ngModel","placeholder"],["class","error-message text-xs text-red-500 mt-1 ml-1",4,"ngIf"],[1,"relative"],["id","password","name","password","required","",1,"w-full","bg-gray-50","p-3","rounded-xl","outline-none","border","border-gray-200","shadow-sm","text-gray-700","text-sm",3,"ngModelChange","type","ngModel","placeholder"],["type","button",1,"absolute","top-1/2","transform","-translate-y-1/2","right-3","text-gray-400","hover:text-gray-600","focus:outline-none",3,"click"],[4,"ngIf","ngIfElse"],[1,"text-right"],[1,"text-sm","text-[#0D92F4]","hover:underline",3,"click"],["type","submit",1,"w-full","bg-[#0D92F4]","hover:bg-blue-500","text-white","py-3","rounded-2xl","text-sm","font-medium","focus:outline-none","focus:ring-2","focus:ring-blue-400","shadow-md","transition","duration-200",3,"disabled"],[1,"create-account","text-center","mt-4","text-sm","text-gray-600"],[1,"text-[#0D92F4]","font-medium","hover:underline",3,"click"],[1,"error-message","text-xs","text-red-500","mt-1","ml-1"],[4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5"],["d","M12 4.5C7.305 4.5 3.354 7.823 2.1 12c1.253 4.177 5.205 7.5 9.9 7.5 4.696 0 8.648-3.323 9.9-7.5-1.253-4.177-5.205-7.5-9.9-7.5zm0 11.25c-2.07 0-3.75-1.68-3.75-3.75S9.93 8.25 12 8.25s3.75 1.68 3.75 3.75-1.68 3.75-3.75 3.75z"],["cx","12","cy","12","r","2.25"],["x1","2","y1","2","x2","22","y2","22","stroke","currentColor","stroke-width","1.5"]],template:function(l,i){if(l&1){let a=P();_(0,"div",4),t(1,"div",5)(2,"div",6)(3,"div",7)(4,"h3",8),p(5),d(6,"translate"),r(),t(7,"h1",9),p(8," FRUIT "),r()()(),t(9,"div",10)(10,"div",11)(11,"div",12)(12,"h3",13),p(13),d(14,"translate"),r()(),t(15,"form",14,0),x("ngSubmit",function(){return u(a),f(i.onSubmit())}),t(17,"div")(18,"input",15,1),d(20,"translate"),M("ngModelChange",function(c){return u(a),E(i.credentials.email,c)||(i.credentials.email=c),f(c)}),r(),S(21,le,3,2,"div",16),r(),t(22,"div",17)(23,"input",18,2),d(25,"translate"),M("ngModelChange",function(c){return u(a),E(i.credentials.password,c)||(i.credentials.password=c),f(c)}),r(),t(26,"button",19),x("click",function(){return u(a),f(i.togglePasswordVisibility())}),S(27,se,4,0,"ng-container",20)(28,de,4,0,"ng-template",null,3,G),r()(),t(30,"div",21)(31,"a",22),x("click",function(){return u(a),f(i.navigationToPage("/forget-password"))}),p(32),d(33,"translate"),r()(),t(34,"div")(35,"button",23),p(36),d(37,"translate"),r(),t(38,"div",24)(39,"p"),p(40),d(41,"translate"),t(42,"a",25),x("click",function(){return u(a),f(i.navigationToPage("/register"))}),p(43),d(44,"translate"),r()()()()()()()()}if(l&2){let a=w(16),s=w(19),c=w(29);n(5),I(" ",m(6,15,"LOGIN.GAME")," "),n(8),h(m(14,17,"LOGIN.TITLE")),n(5),C("placeholder",m(20,19,"LOGIN.EMAIL")),b("ngModel",i.credentials.email),n(3),v("ngIf",s.invalid&&(s.dirty||s.touched)),n(2),C("placeholder",m(25,21,"LOGIN.PASSWORD")),v("type",i.showPassword?"text":"password"),b("ngModel",i.credentials.password),n(4),v("ngIf",i.showPassword)("ngIfElse",c),n(5),h(m(33,23,"LOGIN.FORGOT_PASSWORD")),n(3),v("disabled",!a.valid),n(),I(" ",m(37,25,"LOGIN.BUTTON")," "),n(4),I(" ",m(41,27,"LOGIN.NO_ACCOUNT")," "),n(3),h(m(44,29,"LOGIN.SIGN_UP"))}},dependencies:[Z,K,z,H,q,X,Y,J,Q,W,j,te,ee],styles:[".error-message[_ngcontent-%COMP%]{color:red;font-size:12px;margin-top:5px}button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}"]})};export{T as default};
